<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<link rel="stylesheet" href="css.css">
  <script src="PapaParse-5.0.2/papaparse.min.js"></script>
  <script src="jquery-3.5.1.min.js"></script>
  <script>
  function fillData() {
    Papa.parse("https://raw.githubusercontent.com/prayaggordy/D3-covid-map/master/data/card_values.csv", {
      download: true,
      header: false,
      complete: function(results) {
        results = results.data;
        $("#total_cases").text(results[1][0]);
        $("#total_death").text(results[1][1]);
        $("#total_hospi").text(results[1][2]);
        $("#total_tests").text(results[1][3]);
        $("#total_posit").text(results[1][4]);
        $("#total_negat").text(results[1][5]);
        $("#new_cases").text(results[2][0]);
        $("#new_death").text(results[2][1]);
        $("#new_hospi").text(results[2][2]);
        $("#new_tests").text(results[2][3]);
        $("#new_posit").text(results[2][4]);
        $("#new_negat").text(results[2][5]);
      }
    });
  }
</script>
	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script src = "javascript.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module">
		// county new cases map
        import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
        import define from "https://api.observablehq.com/@adamchzn/md-counties-new-cases-map.js?v=3";
        const inspect = Inspector.into("#countyNewCases");
    	(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// county total cases map
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/coronavirus-dashboard.js?v=3";
		const inspect = Inspector.into("#countyTotalCases");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// zip code new cases map
        import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
        import define from "https://api.observablehq.com/@adamchzn/md-zip-new-cases-map.js?v=3";
        const inspect = Inspector.into("#zipNewCases");
        (new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// zip code total cases map
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/coronavirus-dashboard/2.js?v=3";
		const inspect = Inspector.into("#zipTotalCases");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// county testing map
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/md-counties-testing-map.js?v=3";
		const inspect = Inspector.into("#countyTesting");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// hospitalizations
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/hospitalizations.js?v=3";
		const inspect = Inspector.into("#hospitalizations");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// new cases line chart
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/new-cases.js?v=3";
		const inspect = Inspector.into("#newCases");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// new deaths line chart
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/new-deaths.js?v=3";
		const inspect = Inspector.into("#newDeaths");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
    <script type="module">
		// positivity rate line chart
        import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
        import define from "https://api.observablehq.com/@adamchzn/positivity-rate.js?v=3";
        const inspect = Inspector.into("#positivityRate");
        (new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// breakdown by race
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/grouped-bar-chart.js?v=3";
		const inspect = Inspector.into("#raceBreakdown");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// breakdown by age
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/by-age.js?v=3";
		const inspect = Inspector.into("#ageBreakdown");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
	<script type="module">
		// breakdown by gender
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
		import define from "https://api.observablehq.com/@adamchzn/by-gender.js?v=3";
		const inspect = Inspector.into("#genderBreakdown");
		(new Runtime).module(define, name => name === "chart" ? inspect() : undefined);
	</script>
</head>

<body onload="fillData();">
<div class="container-fluid parent">
	<div class="row">
		<div class="col-md-4 col-xs-12 header">
			<div class="page-header">
				<p>
					Maryland Coronavirus Dashboard
				</p>
			</div>
		</div>
		<div class="col-md-8 col-xs-12 subheader">
			<p>
				This is where instructions will go. Hopefully these instructions will allow the user to understand why we decided to include what we did.
			</p>
		</div>
	</div>
		<div class="row">
			<div class="col-md-9">
				<div class="row">
					<div class="col-md-4 order-2 order-lg-1 toplineNumbers">
						<div class="row">
							<div class="col-lg-6 col-4 card">
								<div class="subhead">Confirmed Cases</div>
								<div class="cardNum" id="total_cases"></div>
								<div class="descBig">Daily Change</div>
								<div class="changeNum" id="new_cases"></div>
							</div>
							<div class="col-lg-6 col-4 card">
								<div class="subhead">Confirmed Deaths</div>
								<div class="cardNum" id="total_death"></div>
								<div class="descBig">Daily Change</div>
								<div class="changeNum" id="new_death"></div>
							</div>
						
							<div class="col-lg-6 col-4 card">
								<div class="subhead">Hospitalized</div>
								<div class="cardNum" id="total_hospi"></div>
								<div class="descBig">Daily Change</div>
								<div class="changeNum" id="new_hospi"></div>
							</div>
							<div class="col-lg-6 col-4 card">
								<div class="subhead">Testing Volume</div>
								<div class="cardNum" id="total_tests"></div>
								<div class="descBig">Daily Change</div>
								<div class="changeNum" id="new_tests"></div>
							</div>
							<div class="col-lg-6 col-4 card">
								<div class="subhead">Positivity Rate</div>
								<div class="cardNum" id="total_posit"></div>
								<div class="descBig">Daily Change</div>
								<div class="changeNum" id="new_posit"></div>
							</div>
							<div class="col-lg-6 col-4 card">
								<div class="subhead">Negative Tests</div>
								<div class="cardNum" id="total_negat"></div>
								<div class="descBig">Daily Change</div>
								<div class="changeNum" id="new_negat"></div>
							</div>
						</div>
					</div>
					<div class="col-lg-8 col-xs-12 order-1 order-lg-2 mapContainer">
						<div class="toggleMap toggleMapVisible" id="countyNewCases"></div>
						<div class="toggleMap" id="countyTotalCases"></div>
						<div class="toggleMap" id="zipNewCases"></div>
						<div class="toggleMap" id="zipTotalCases"></div>
						<div class="toggleMap" id="countyTesting"></div>
						<div class="instructions"><p>Use the scroll wheel to zoom. Click to snap to county or zip code. Click outside map to reset.</p></div>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleMap('countyNewCases')"> Change in cases by county</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleMap('countyTotalCases')"> Total cases by county</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleMap('zipNewCases')"> Change in cases by zip</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleMap('zipTotalCases')"> Total cases by zip</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleMap('countyTesting')"> Testing by county</button>
                       </div>
				</div>
				<div class="row">
					<div class="col-md-7 col-xs-12 lineChartContainer">
						<div class="toggleLine toggleLineVisible" id="hospitalizations"></div>
						<div class="toggleLine" id="newCases"></div>
						<div class="toggleLine" id="newDeaths"></div>
						<div class="toggleLine" id="positivityRate"></div>
						<div class="instructions"><p>Instructions</p></div>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleLine('hospitalizations')"> Hospitalizations</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleLine('newCases')"> New cases</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleLine('newDeaths')"> New deaths</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleLine('positivityRate')"> Positivity rate</button>
					</div>
					<div class="col-md-5 col-xs-12 barChartContainer">
						<div class="toggleBar toggleBarVisible" id="raceBreakdown"></div>
						<div class="toggleBar" id="ageBreakdown"></div>
						<div class="toggleBar" id="genderBreakdown"></div>
						<div class="instructions"><p>Hover over bars to display values.</p></div>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleBar('raceBreakdown')"> Cases by race</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleBar('ageBreakdown')"> Cases by age</button>
						<button type="button" class="btn btn-outline-secondary btn-sm" onclick="toggleBar('genderBreakdown')"> Cases by sex</button>
					</div>
				</div>
			</div>
			<div class="col-md-3 col-xs-12 dataTable">
				<iframe class="tableEmbed" src="Data-Table.html" width="100%" height="97%" style="border: none; margin: none; padding: none;"></iframe>
				<div class="instructions"><p>Some Blurb can go here. Maybe this is where the attribution of the data source is or some methodology.</p></div>
			</div>
		</div>
	<div class="row">
		<footer class="col-md-12 footer">
			<p>
				Dashboard created by Prayag Gordy and Adam Chazan <br>
				Contact us at:
			</p>
		</footer>
	</div>
</div>
</body>
